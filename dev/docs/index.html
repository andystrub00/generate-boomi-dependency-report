<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Boomi Component Dependency Diagram</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/cytoscape/3.26.0/cytoscape.min.js"></script>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <div class="header">
    <h1 class="title">Boomi Component Dependency Diagram</h1>
    <div>
      <span id="stats">Components: 0 | Connections: 0</span>
    </div>
  </div>
  
  <div class="controls">
    <input type="text" id="search" placeholder="Search components...">
    <button id="reset">Reset View</button>
    <button id="expand-all">Expand All</button>
    <button id="collapse-all">Collapse All</button>
    <button id="save-layout">Save Layout</button>
    <button id="load-layout">Load Layout</button>
    <button id="export-png">Export PNG</button>
  </div>
  
  <div class="container">
    <div class="sidebar">
      <h3>Component Types</h3>
      <div class="legend">
        <div class="legend-item">
          <div class="legend-color" style="background-color: #FF6B6B; border-radius: 50%;"></div>
          <div>Process</div>
        </div>
        <div class="legend-item">
          <div class="legend-color" style="background-color: #4ECDC4; border-radius: 0;"></div>
          <div>Connector</div>
        </div>
        <div class="legend-item">
          <div class="legend-color" style="background-color: #FFD166; border-radius: 3px;"></div>
          <div>Map</div>
        </div>
        <div class="legend-item">
          <div class="legend-color" style="background-color: #6A0572; border-radius: 0; transform: rotate(45deg);"></div>
          <div>Decision</div>
        </div>
        <div class="legend-item">
          <div class="legend-color" style="background-color: #1A535C; border-radius: 15px 15px 0 0;"></div>
          <div>Flow Service</div>
        </div>
        <div class="legend-item">
          <div class="legend-color" style="background-color: #F2B880; width: 10px; height: 20px; border-radius: 10px 0 0 10px;"></div>
          <div>Trigger</div>
        </div>
        <div class="legend-item">
          <div class="legend-color" style="background-color: #3D348B; width: 20px; height: 10px;"></div>
          <div>Transport</div>
        </div>
        <div class="legend-item">
          <div class="legend-color" style="background-color: #7D8491;"></div>
          <div>Other</div>
        </div>
      </div>
      
      <div class="component-details" id="component-details">
        <h3>Component Details</h3>
        <table>
          <tr>
            <th>Property</th>
            <th>Value</th>
          </tr>
          <tr>
            <td>Name</td>
            <td id="detail-name">-</td>
          </tr>
          <tr>
            <td>Type</td>
            <td id="detail-type">-</td>
          </tr>
          <tr>
            <td>Version</td>
            <td id="detail-version">-</td>
          </tr>
          <tr>
            <td>Path</td>
            <td id="detail-path">-</td>
          </tr>
        </table>
      </div>
      
      <div class="file-upload">
        <h3>Import Components Data</h3>
        <p>Upload JSON file with component data:</p>
        <div class="file-form">
          <input type="file" id="file-input" accept=".json">
          <label for="file-input" class="file-label">Choose File</label>
          <span id="file-name"></span>
        </div>
        <button id="import-data" style="margin-top: 10px;">Import Data</button>
      </div>
    </div>
    
    <div id="cy"></div>
  </div>
  <script src="data/component_data.js"></script>
  <script src="js/script.js"></script>
</body>
</html>